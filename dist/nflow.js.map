{"version":3,"sources":["webpack:///webpack/bootstrap 0e37fa6f397776c52b46","webpack:///./src/index.js","webpack:///./src/nflow.js","webpack:///./src/factory.js","webpack:///./src/behaviours/index.js","webpack:///./src/behaviours/cancellable.js","webpack:///./src/consts.js","webpack:///./src/utils.js","webpack:///./src/logger.js","webpack:///./src/behaviours/connect.js","webpack:///./src/behaviours/create.js","webpack:///./src/behaviours/emit.js","webpack:///./src/routes/index.js","webpack:///./src/routes/upstream.js","webpack:///./src/routes/none.js","webpack:///./src/routes/downstream.js","webpack:///./src/routes/default.js","webpack:///./src/behaviours/identify.js","webpack:///./src/behaviours/listen.js","webpack:///./src/behaviours/loggable.js","webpack:///./src/behaviours/stateful.js","webpack:///./src/behaviours/get.js"],"names":[],"mappings":"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","file":"nflow.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:5000/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0e37fa6f397776c52b46\n **/","import nflow from './nflow'\nif (global) global.nflow = nflow\nmodule.exports = nflow\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import factory from './factory'\nimport {DEFAULTS} from './consts'\nimport logger from './logger'\n\nvar root = factory(DEFAULTS, \"flow\")\nlogger.init(root)\nexport default root\n\n\n/** WEBPACK FOOTER **\n ** ./src/nflow.js\n **/","import * as behaviours from './behaviours'\nexport default (defaults, name, data)=>{\n  var flow = defaults.factory()\n\n  defaults\n    .behaviours\n    .forEach((d)=>{\n      behaviours[d](flow, defaults, name, data)\n  })\n  return flow\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/factory.js\n **/","export {default as cancellable } from './cancellable'\nexport {default as connect } from './connect'\nexport {default as create } from './create'\nexport {default as emit } from './emit'\nexport {default as identify } from './identify'\nexport {default as listen } from './listen'\nexport {default as loggable } from './loggable'\nexport {default as stateful } from './stateful'\nexport {default as get } from './get'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/index.js\n **/","import { DEFAULTS\n       , ERRORS\n       , STATUS\n       , DIRECTION\n       , UNSET } from '../consts'\nimport {assert, detach, dispatchInternalEvent} from '../utils'\n\nexport default (flow, defaults, name)=>{\n  \n  flow.cancel = (...args) => {\n    assert(args.length\n         , ERRORS.invalidCancelArgs)\n    flow.status.value = STATUS.CANCELLED\n    dispatchInternalEvent(flow, 'cancel', true)\n    return flow\n  }\n\n  flow.isCancelled = () => {\n    return [flow]\n      .concat(flow.parents())\n      .some(e=>e.status.value == STATUS.CANCELLED\n          || e.status.value == STATUS.DISPOSED\n        )\n  }\n\n  flow.stopPropagation = (...args) => {\n    assert(args.length\n         , ERRORS.invalidStopPropagationArgs)\n    flow.status.value = STATUS.STOPPED\n    dispatchInternalEvent(flow, 'propagationStopped', true)\n    return flow\n  }\n\n  flow.propagationStopped = () => {\n    return flow.status.value == STATUS.STOPPED\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/cancellable.js\n **/","/**\n *  consts\n */\n\nexport const UNSET = {}\nexport const DIRECTION = {\n  NONE: \"NONE\",\n  DEFAULT: \"DEFAULT\",\n  UPSTREAM: \"UPSTREAM\",\n  DOWNSTREAM: \"DOWNSTREAM\"\n}\n\nexport const STATUS = {\n  IDLE: \"IDLE\",\n  FLOWING: \"FLOWING\",\n  STOPPED: \"STOPPED\",\n  COMPLETED: \"COMPLETED\",\n  CANCELLED: \"CANCELLED\",\n  DISPOSED: \"DISPOSED\"\n}\n\nexport const DEFAULTS = {\n  factory: ()=>({}),\n  behaviours:[\n    'identify',\n    'stateful',\n    'connect',\n    'create',\n    'emit',\n    'listen',\n    'cancellable',\n    'loggable'\n  ],\n  direction: DIRECTION.DEFAULT\n}\nexport const ERRORS = {\n  invalidGuid:     'Invalid Argument. Guid-s are immutable. Please use the .name() API to change the name of a flow object.'\n, invalidChildren: 'Invalid Argument. Please use child.parent(parent) to re-parent flow objects.'\n, invalidListener: 'Invalid Arguments. Please use .on(\"foo\", handler) to create a listener.'\n, invalidListenerType: 'Invalid Listener function. Expected a function, got: %s'\n, invalidEventName:'Invalid Arguments. Please use .emit(\"foo\", payload) to emit a flow event.'\n, invalidName:'Invalid flow Name. Expected a String value, got: %s'\n, invalidParent:'Invalid flow parent object. Expected a flow instance, got: %s'\n, invalidParents:'Invalid Argument. Please use the child.parent(parent) API to re-parent flow objects.'\n, invalidStatus:'Invalid Argument. The .status() API is read only'\n, invalidDisposeArgs:'Invalid Argument. The .dispose() API requires no parameters'\n, invalidCancelArgs:'Invalid Argument. The .cancel() API requires no parameters'\n, invalidStopPropagationArgs:'Invalid Argument. The .stopPropagation() API requires no parameters'\n, invalidRoot:'Invalid Argument. The .parents.root() API is read only'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/consts.js\n **/","import factory from './factory'\nimport { DEFAULTS\n       , ERRORS\n       , STATUS\n       , DIRECTION\n       , UNSET } from './consts'\nimport logger from './logger'\n/**\n *  utils\n */\nexport function assert(condition, error, val){\n  if (condition) {\n    throw new Error(error\n      .replace(\"%s\", val))\n  }\n  return condition\n}\n\nexport function isFlow(flow){\n  return flow \n    && flow.name\n    && flow.name.isFlow\n}\n\nexport function isInternal(flow){\n  return flow \n    && flow.name\n    && flow.name.isInternal\n}\n\nexport function detach(flow){\n  flow.parent() \n    && flow.parent().children.detach(flow)\n}\n\nexport function isDetached(flow){\n  return !flow.parent()\n    || !flow.parent().children.has(flow)\n}\n\nexport function flatten(array){\n  return [].concat.apply([], array);\n}\n\nexport function merge(source, target){\n  Object.keys(source).forEach(key=>{\n    target[key]= source[key]\n  })\n}\n\nexport function dispatchInternalEvent(flow, name, newData, oldData){\n  var e= factory(DEFAULTS, \"flow.\"+name)\n  e.name.isInternal = true\n  e.data.value = [newData, oldData]\n  e.direction.value= DIRECTION.NONE\n  e.parent.value = flow\n  e.emit()\n  e.data.value = [flow, newData, oldData]\n  e.direction.value= DIRECTION.UPSTREAM\n  e.name.value=\"flow.children.\"+name\n  e.emit()\n  \n  e.direction.value= DIRECTION.DOWNSTREAM\n  e.name.value=\"flow.parent.\"+name\n  e.emit()\n  \n  logger.log(flow, name, newData, oldData)\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import {isInternal} from './utils'\nimport { DEFAULTS\n       , ERRORS\n       , STATUS\n       , DIRECTION\n       , UNSET } from './consts'\nimport factory from './factory'\n\nvar loggers = []\n\nfunction log(flow, name, newData, oldData){\n  if (!isInternal(flow)){\n    loggers.forEach(f=>f(flow, name, newData, oldData))\n    debug(flow, name, newData, oldData)\n  }\n}\n\nfunction debug(flow, name, d, d0){\n  global.__nflow_devtools_hook__ &&\n  global.__nflow_devtools_hook__(\n    {\n      flow: flow.toObj(),\n      name: name,\n      d: d && (d.toObj? d.toObj():d),\n      d0: d0 && (d0.toObj? d0.toObj():d0)\n    })\n}\n\nfunction init(flow){\n  \n  flow.enableDevTools = (enabled=true)=>{\n    debug(flow, 'start', flow, flow)\n    \n    console.warn('flow.enableDevtools() is now deprecated. nflow-devtools will automatically start logging when Chrome devtools is open')\n    return flow\n  }\n  \n\n  flow.logger = (logger=UNSET) => {\n    if (logger===UNSET) return loggers\n    loggers.push(logger)\n    return flow\n  }\n\n}\n\n\nexport default { \n  init\n, log\n  }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/logger.js\n **/","import {assert, detach, dispatchInternalEvent, isFlow} from '../utils'\nimport { ERRORS, UNSET } from '../consts'\n\nexport default (flow)=>{\n  \n  /**\n   *  .children() API\n   */\n  flow.children = (...args) => {\n    assert(args.length, ERRORS.invalidChildren)\n    return flow.children.value.concat()\n  }\n  flow.children.value = []\n\n  flow.children.has = (matcher, recursive)=>flow.children.find(matcher, recursive)!=null\n  flow.children.find = (matcher, recursive)=>flow.children.findAll(matcher, recursive).pop()\n  flow.children.findAll = (matcher, recursive)=>{\n\n    var filter = matcher;\n    if (matcher==null) return []\n    if (typeof(matcher)==\"string\") filter = f=>f.name()==matcher\n    else if (isFlow(matcher)) filter = f=>f==matcher\n    var children = recursive \n      ? flow.children.all()\n      : flow.children()\n    \n    return children.filter(filter)\n  }\n\n  flow.get = flow.children.find\n  flow.getAll = flow.children.find\n\n  /**\n   *  return all children recursively\n   */\n  flow.children.all = (...args)=>{\n    assert(args.length, ERRORS.invalidChildren)\n    var childMap = {}\n    return getChildren(flow)\n\n    function getChildren(flow){\n      if (childMap[flow.guid()]) return [];\n      childMap[flow.guid()] = true\n      var c = flow.children.value\n      var gc = flow.children.value.map(getChildren)\n      \n      return c.concat.apply(c, gc);\n    }\n\n  }\n\n  /**\n   *  .parent() API\n   */\n  flow.parent = (...parentArgs) => {\n    if (!parentArgs.length) return flow.parent.value;\n    var parent = parentArgs[0]\n    parent && assert(!isFlow(parent), ERRORS.invalidParent, parent)\n    var previousParent = flow.parent() \n    detach(flow)\n    dispatchInternalEvent(flow, 'childRemoved', previousParent)\n    attach(parent)\n    dispatchInternalEvent(flow, 'childAdded', parent, previousParent)\n    return flow\n  }\n\n  flow.parents = (...args)=>{\n    assert(args.length, ERRORS.invalidParents)\n    var parentMap = {}\n    var parents = []\n    var p = flow.parent()\n    while (p && !parentMap[p.guid()]){\n      parents.push(p)\n      parentMap[p.guid()]=true\n      p = p.parent()\n    }\n    return parents \n  }\n\n  flow.parents.find = (matcher)=>{\n    if (matcher==null) return null\n    var filter = matcher\n    if (typeof(matcher)==\"string\") filter = f=>f.name()==matcher\n    else if (isFlow(matcher)) filter = f=>f==matcher\n\n    return flow.parents()\n      .filter(filter)\n      .pop()\n  }\n  flow.parents.has = (matcher)=>(\n    !!flow.parents.find(matcher)\n  )\n\n  flow.parents.root = (...args)=>{\n    assert(args.length, ERRORS.invalidRoot)\n    return flow\n      .parents()\n      .pop()\n  }\n\n  flow.children.detach = (child)=>{\n    flow.children.value = \n      flow.children.value\n        .filter(f=>f!=child)\n  }\n\n  function attach(parent) {\n    parent && parent.children.value.push(flow)\n    flow.parent.value = parent\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/connect.js\n **/","import factory from '../factory'\nimport logger from '../logger'\nimport {assert, dispatchInternalEvent} from '../utils'\nimport { DEFAULTS\n       , ERRORS\n       , STATUS\n       , DIRECTION\n       , UNSET } from '../consts'\n\n\nexport default (flow, defaults)=>{\n\n  flow.create = (name, ...data) => {\n    \n    var instance = factory(flow.create.defaults, name, data)\n    instance.parent.value = flow\n    flow.children.value.push(instance)\n    dispatchInternalEvent(flow, 'create', instance)\n    return instance\n  }\n\n  flow.create.defaults = {\n    factory: defaults.factory,\n    behaviours: defaults.behaviours.concat(),\n    direction: defaults.direction\n\n  }\n\n  flow.dispose = (...args) => {\n    assert(args.length\n         , ERRORS.invalidDisposeArgs)\n    if (flow.status.value == STATUS.DISPOSED) return;\n    \n    dispatchInternalEvent(flow, 'dispose', true)\n    flow.parent(null)\n    flow.status.value = STATUS.DISPOSED\n    flow.on.listenerMap = {}\n    \n    //recursively dispose all downstream nodes\n    flow.children().forEach(f=>f.dispose())\n    return flow\n  }\n\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/create.js\n **/","import { DEFAULTS\n       , ERRORS\n       , STATUS\n       , DIRECTION\n       , UNSET } from '../consts'\n\nimport {merge, detach, flatten, assert, isDetached, isFlow} from '../utils'\nimport logger from '../logger'\nimport * as routes from '../routes'\n\nvar log = logger.log\nexport default (flow)=>{\n  \n  flow.status = (...args) => {\n    assert(args.length\n         , ERRORS.invalidStatus)\n    return flow.status.value\n  }\n  flow.status.value = STATUS.IDLE\n  merge(STATUS, flow.status)\n  \n\n  flow.direction = (direction=UNSET) => {\n    if (direction===UNSET) return flow.direction.value\n    flow.direction.value = direction\n    return flow\n  }\n  flow.direction.value = flow.create.defaults.direction\n  merge(DIRECTION, flow.direction)\n\n  flow.emit = (name=UNSET, ...args)=>{\n    return emit(name, args)\n  }\n  createEmitAPI(flow)\n\n  function emit(name=UNSET, args, direction){\n    if (name==UNSET) {\n      // emit current flow object\n      detach(flow)\n      direction && flow.direction(direction)\n      log(flow, 'emit', flow)\n      flow.emit.route(flow)\n      log(flow, 'emitted', flow)\n      return flow\n    }\n    if (isFlow(name)) {\n      //1. reparent the passed in flow object where it's emitted from\n      name.parent(flow)\n      //2.  emit the passed in flow object\n      detach(name)\n      direction && name.direction(direction)\n      log(name, 'emit', name)\n      flow.emit.route(name)\n      log(name, 'emitted', name)\n      return flow\n    }\n\n    assert(typeof(name)!='string'\n      , ERRORS.invalidEventName)\n    \n    var event = flow.create(name, ...args)\n    detach(event)\n    direction && event.direction(direction)\n    log(event, 'emit', event)\n    flow.emit.route(event)\n    log(event, 'emitted', event)\n    return event\n  }\n  \n  flow.emit.route = (flow)=>{\n    // 2. reset status\n    flow.emit.recipients = []\n    flow.emit.recipientsMap = {}\n    \n    flow.status.value = STATUS.FLOWING;\n    \n    // only keep unique recipients\n    flow.emit.targets = flow.emit.route[flow.direction()](flow)\n      .filter(f=>{\n        if (flow.emit.recipientsMap[f.flow.guid()]) return false\n        return flow.emit.recipientsMap[f.flow.guid()] = true\n      })\n\n    while (flow.emit.targets.length){\n      var destination = flow.emit.targets.shift()\n      if (flow.isCancelled()) break;\n      if (flow.propagationStopped()) break;\n      if (destination.flow.isCancelled()) continue;\n      notify(flow, destination)\n    }\n  }\n  \n  flow.emit.route.DOWNSTREAM = routes.downstream\n  flow.emit.route.UPSTREAM = routes.upstream\n  flow.emit.route.DEFAULT = routes.default\n  flow.emit.route.NONE = routes.none\n  \n  function notify(flow, currentNode){\n    if (currentNode.flow.on.notifyListeners(flow)) {\n      flow.emit.recipientsMap[currentNode.flow.guid()] = flow.direction()\n      flow.emit.recipients.push(currentNode)\n    }\n  }\n\n  /** \n   *  create directional (eg. `flow.emit.dowsntream(...)`) API\n   */\nfunction createEmitAPI(flow){\n  Object.keys(DIRECTION)\n    .forEach(direction=>{\n      flow.emit[direction] \n        = flow.emit[direction.toLowerCase()]\n        = (name, ...args)=>{\n        return emit(name,args, direction)\n      }\n    })\n  }\n\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/emit.js\n **/","export { default as upstream } from './upstream'\nexport { default as none } from './none'\nexport { default as downstream } from './downstream'\nexport { default as default } from './default'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes/index.js\n **/","/**\n *  returns: all parent nodes\n */\nexport default (flow)=>{\n  return [flow]\n    .concat(flow.parents())\n    .map((flow,i,arr)=>({\n      flow,\n      route: arr.slice(0,i+1).reverse()\n    }))\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes/upstream.js\n **/","/**\n *  returns: only itself and the node emitting it\n */\nexport default (flow)=>{\n  return [flow]\n    .concat(flow.parent())\n    .map((flow,i,arr)=>({\n      flow,\n      route: arr.slice(0,i+1).reverse()\n    }))\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes/none.js\n **/","export default (flow)=>{\n  var visitedNodesMap = {}\n  \n  var route = getChildren(flow, [])\n    .concat(getChildren(flow.parent(), [flow]))\n  \n  return route;\n  function getChildren(flow, route){\n    if (visitedNodesMap[flow.guid()]) return []\n    visitedNodesMap[flow.guid()] = true\n    route = [flow].concat(route)\n    var nodes = [{ flow, route }]\n    flow.children()\n      .forEach(f=>nodes = nodes.concat(getChildren(f,route)))\n    return nodes\n  }\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes/downstream.js\n **/","import {isDetached} from '../utils'\nexport default (flow)=>{\n  var visitedNodesMap = {}\n  var route = []\n  var parents = [flow].concat(flow.parents())\n    .map((flow,i,arr)=>({\n      flow,\n      route: arr.slice(0,i)\n    }))\n  \n  parents.forEach(f=>{\n      // traverse downstream on detached nodes:\n      if (isDetached(f.flow)) {\n        route = route.concat(getChildren(f.flow, f.route.reverse()))\n      }\n      else  {\n        visitedNodesMap[f.flow.guid()] = true\n        var r = [f.flow].concat(f.route.reverse())\n        route.push({ flow:f.flow, route:r})\n      }\n    })\n  return route;\n  function getChildren(flow, route){\n    var visited = (visitedNodesMap[flow.guid()])\n    visitedNodesMap[flow.guid()] = true\n    route = [flow].concat(route)\n    var nodes = visited? []:[{ flow, route }]\n    flow.children()\n      .forEach(f=>nodes = nodes.concat(getChildren(f,route)))\n    return nodes\n  }\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/routes/default.js\n **/","import { DEFAULTS\n       , ERRORS\n       , STATUS\n       , DIRECTION\n       , UNSET } from '../consts'\n\nimport logger from '../logger'\nimport {assert, dispatchInternalEvent} from '../utils'\n\nvar guid = 0\nexport default (flow, defaults, name)=>{\n  \n  flow.guid = (...args) => {\n    assert(args.length\n         , ERRORS.invalidGuid)\n    return flow.guid.value\n  }\n  flow.guid.value = createGuid()\n\n  flow.name = (name=UNSET) => {\n    if (name===UNSET) return flow.name.value\n    assert(typeof(name)!=\"string\"\n         , ERRORS.invalidName, name)\n    var previousName = flow.name.value\n    flow.name.value = name\n    dispatchInternalEvent(flow, 'name', name, previousName)\n    return flow\n  }\n  flow.name.value = name || flow.guid()\n  flow.name.isFlow = true\n  flow.name.isInternal = false\n\n  flow.call = (...functions)=>{\n    functions\n      .filter(f=>typeof(f)=='function')\n      .forEach(f=>f(flow))\n    return flow\n  }\n\n}\n\nfunction createGuid(){\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n    .replace(/[xy]/g, function(c) {\n      var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n      return v.toString(16);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/identify.js\n **/","import { ERRORS, UNSET, STATUS } from '../consts'\nimport {assert, dispatchInternalEvent} from '../utils'\nimport logger from '../logger'\n\nexport default (flow)=>{\n  flow.on = (name=UNSET, ...args) => {\n    if (name==UNSET) return flow.on.listenerMap //TODO clone this!\n    assert(typeof(name)!='string'\n      , ERRORS.invalidListener)\n    \n    if (!args.length) {\n      return flow.on.listenerMap[name]\n    }\n\n    if (args.length==1 && args[0]==null) {\n      dispatchInternalEvent(flow, 'listenerRemoved', name)\n      delete flow.on.listenerMap[name]\n      return flow;\n    }\n    var oldListeners = flow.on.listenerMap[name]\n    flow.on.listenerMap[name] = args\n      .filter(l=>!assert(typeof(l)!='function'\n        , ERRORS.invalidListenerType, typeof(l)+\": \"+l)\n      )\n    dispatchInternalEvent(flow, oldListeners\n      ? 'listenerChanged'\n      : 'listenerAdded'\n      , name)\n    return flow\n  }\n  flow.on.listenerMap = {};\n\n  flow.on.notifyListeners = (event)=>{\n    if (flow.on.listenerMap[event.name()]) {\n      event.target = flow\n      flow.on.listenerMap[event.name()]\n        .every(listener=>{\n          listener.apply(event, event.data.value)\n          return (event.status() == STATUS.FLOWING)\n        })\n      return true\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/listen.js\n **/","export default (flow)=>{\n  flow.toString = () => {\n    return JSON.stringify(flow.toObj())\n  }\n\n  flow.toObj = () => ({\n    name: flow.name(),\n    guid: flow.guid(),\n    parent:{\n      name: flow.parent() && flow.parent().name(),\n      guid: flow.parent() && flow.parent().guid()\n    },\n    status: flow.status(),\n    listeners: Object.keys(flow.on()),\n    children: flow.children().map(f=>({ name: f.name(), guid: f.guid() })),\n    recipients: flow.emit.recipients && flow.emit.recipients.map(f=>({\n      flow: {\n        guid: f.flow.guid(),\n        name: f.flow.name() },\n      route: f.route.map(f=>({\n        guid: f.guid(),\n        name: f.name() }))\n    }))\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/loggable.js\n **/","import logger from '../logger'\nimport {assert, dispatchInternalEvent} from '../utils'\n\nexport default (flow, defaults, name, data)=>{\n    flow.data = (...data) => {\n    if (!data.length) {\n      return (flow.data.value.length<=1)\n        ? flow.data.value[0]\n        : flow.data.value\n      }\n    var oldData = flow.data.value\n    flow.data.value = data\n    dispatchInternalEvent(flow, 'data'\n      , (data.length>1?data:data[0])\n      , (oldData.length>1?oldData:oldData[0]))\n    return flow\n    }\n    flow.data.value = data\n  }\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/stateful.js\n **/","import { DEFAULTS\n       , ERRORS\n       , STATUS\n       , DIRECTION\n       , UNSET } from '../consts'\n\nimport logger from '../logger'\nimport {assert, dispatchInternalEvent} from '../utils'\n\nexport default (flow, defaults, name)=>{\n  \n \n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/behaviours/get.js\n **/"],"sourceRoot":""}